{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\v-thobr\\\\projects\\\\littlerock\\\\LittleRockChurchApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\v-thobr\\\\projects\\\\littlerock\\\\LittleRockChurchApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\v-thobr\\\\projects\\\\littlerock\\\\LittleRockChurchApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{connect}from\"react-redux\";import{Container,Row,Col}from\"react-bootstrap\";import TextField from\"@material-ui/core/TextField\";import Button from\"@material-ui/core/Button\";import Layout from\"../../components/Layout\";import Banner from\"../../components/Banner\";import Event from\"../../components/Event\";import{uploadEventImage,getImages,deleteImage}from\"../../actions/images\";var AdminEvents=function AdminEvents(_ref){var isAuthenticated=_ref.auth.isAuthenticated,uploadEventImage=_ref.uploadEventImage,getImages=_ref.getImages,deleteImage=_ref.deleteImage,_ref$image=_ref.image,image=_ref$image.image,loaded=_ref$image.loaded;useEffect(function(){getImages();},[getImages]);// if (!loaded && image === null) {\n//   getImages();\n//   console.log(\"image: \" + image);\n// }\nvar _useState=useState({pic:\"\"}),_useState2=_slicedToArray(_useState,2),picture=_useState2[0],setPicture=_useState2[1];var pic=picture.pic;var handleInputChange=function handleInputChange(e){setPicture({pic:e.target.value});};var imageSaveHandler=function imageSaveHandler(async){//console.log(picture.target.files[0]);\nconsole.log(\"uploading picture...\");uploadEventImage(pic);setPicture({pic:\"\"});};var deleteImageHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(index){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"deleting image...\");deleteImage(index);case 2:case\"end\":return _context.stop();}}},_callee);}));return function deleteImageHandler(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Banner,{id:\"banner\",image:require(\"../../static/images/LR-WebPage-OurStaffNW_vrt.jpg\"),Breadcrumb1:\"HOME\",headerText:\"Event Flyers\",tag1:\"a\",href1:\"/\",Breadcrumb2:\"GET CONNECTED\",tag2:\"a\",href2:\"#\",Breadcrumb3:\"Event flyers\",tag3:\"span\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"secondary\"},/*#__PURE__*/React.createElement(\"section\",{id:\"two\"},/*#__PURE__*/React.createElement(\"div\",{className:\"inner\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"div\",{className:\"left\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:12},/*#__PURE__*/React.createElement(\"header\",{className:\"major\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Event Flyers\")))),isAuthenticated&&/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:12},/*#__PURE__*/React.createElement(\"div\",{className:\"center\"},/*#__PURE__*/React.createElement(TextField,{id:\"standard-basic\",margin:\"normal\",name:\"pic\",value:pic,onChange:function onChange(e){return handleInputChange(e);},label:\"Image URL\"})))),isAuthenticated&&/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:12},/*#__PURE__*/React.createElement(\"div\",{className:\"center\"},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:imageSaveHandler},\"Add Image\")))),image&&Array.isArray(image.url)&&image.url.map(function(url,index){return/*#__PURE__*/React.createElement(Row,null,!isAuthenticated&&/*#__PURE__*/React.createElement(Col,{xs:12},/*#__PURE__*/React.createElement(Event,{imageurl:url})),isAuthenticated&&/*#__PURE__*/React.createElement(Col,{xs:6},/*#__PURE__*/React.createElement(Event,{imageurl:url})),isAuthenticated&&/*#__PURE__*/React.createElement(Col,{xs:6},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"secondary\",onClick:function onClick(e){return deleteImageHandler(index);}},\"Delete Image\")));}))))))))));};var mapStateToProps=function mapStateToProps(state){return{image:state.image,auth:state.auth};};export default connect(mapStateToProps,{uploadEventImage:uploadEventImage,getImages:getImages,deleteImage:deleteImage})(AdminEvents);","map":{"version":3,"sources":["C:/Users/v-thobr/projects/littlerock/LittleRockChurchApp/client/src/pages/events/event-flyers.jsx"],"names":["React","useState","useEffect","connect","Container","Row","Col","TextField","Button","Layout","Banner","Event","uploadEventImage","getImages","deleteImage","AdminEvents","isAuthenticated","auth","image","loaded","pic","picture","setPicture","handleInputChange","e","target","value","imageSaveHandler","async","console","log","deleteImageHandler","index","require","Array","isArray","url","map","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport Layout from \"../../components/Layout\";\r\nimport Banner from \"../../components/Banner\";\r\nimport Event from \"../../components/Event\";\r\n\r\nimport { uploadEventImage, getImages, deleteImage } from \"../../actions/images\";\r\n\r\nconst AdminEvents = ({\r\n  auth: { isAuthenticated },\r\n  uploadEventImage,\r\n  getImages,\r\n  deleteImage,\r\n  image: { image, loaded }\r\n}) => {\r\n  useEffect(() => {\r\n    getImages();\r\n  }, [getImages]);\r\n\r\n  // if (!loaded && image === null) {\r\n  //   getImages();\r\n  //   console.log(\"image: \" + image);\r\n  // }\r\n\r\n  const [picture, setPicture] = useState({\r\n    pic: \"\"\r\n  });\r\n\r\n  const { pic } = picture;\r\n\r\n  const handleInputChange = (e) => {\r\n    setPicture({ pic: e.target.value });\r\n  };\r\n\r\n  const imageSaveHandler = (async) => {\r\n    //console.log(picture.target.files[0]);\r\n    console.log(\"uploading picture...\");\r\n    uploadEventImage(pic);\r\n    setPicture({ pic: \"\" });\r\n  };\r\n\r\n  const deleteImageHandler = async (index) => {\r\n    console.log(\"deleting image...\");\r\n    deleteImage(index);\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <div>\r\n        <Banner\r\n          id=\"banner\"\r\n          image={require(\"../../static/images/LR-WebPage-OurStaffNW_vrt.jpg\")}\r\n          Breadcrumb1=\"HOME\"\r\n          headerText=\"Event Flyers\"\r\n          tag1=\"a\"\r\n          href1=\"/\"\r\n          Breadcrumb2=\"GET CONNECTED\"\r\n          tag2=\"a\"\r\n          href2=\"#\"\r\n          Breadcrumb3=\"Event flyers\"\r\n          tag3=\"span\"\r\n        />\r\n\r\n        <div className=\"secondary\">\r\n          <section id=\"two\">\r\n            <div className=\"inner\">\r\n              <Container>\r\n                <Container>\r\n                  <Container>\r\n                    <div className=\"left\">\r\n                      <Row>\r\n                        <Col xs={12}>\r\n                          <header className=\"major\">\r\n                            <h1>Event Flyers</h1>\r\n                          </header>\r\n                        </Col>\r\n                      </Row>\r\n                      {isAuthenticated && (\r\n                        <Row>\r\n                          <Col xs={12}>\r\n                            <div className=\"center\">\r\n                              <TextField\r\n                                id=\"standard-basic\"\r\n                                margin=\"normal\"\r\n                                name=\"pic\"\r\n                                value={pic}\r\n                                onChange={(e) => handleInputChange(e)}\r\n                                label=\"Image URL\"\r\n                              />\r\n                            </div>\r\n                          </Col>\r\n                        </Row>\r\n                      )}\r\n                      {isAuthenticated && (\r\n                        <Row>\r\n                          <Col xs={12}>\r\n                            <div className=\"center\">\r\n                              <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                onClick={imageSaveHandler}\r\n                              >\r\n                                Add Image\r\n                              </Button>\r\n                            </div>\r\n                          </Col>\r\n                        </Row>\r\n                      )}\r\n\r\n                      {image &&\r\n                        Array.isArray(image.url) &&\r\n                        image.url.map((url, index) => {\r\n                          return (\r\n                            <Row>\r\n                              {!isAuthenticated && (\r\n                                <Col xs={12}>\r\n                                  <Event imageurl={url} />\r\n                                </Col>\r\n                              )}\r\n                              {isAuthenticated && (\r\n                                <Col xs={6}>\r\n                                  <Event imageurl={url} />\r\n                                </Col>\r\n                              )}\r\n                              {isAuthenticated && (\r\n                                <Col xs={6}>\r\n                                  <Button\r\n                                    variant=\"contained\"\r\n                                    color=\"secondary\"\r\n                                    onClick={(e) => deleteImageHandler(index)}\r\n                                  >\r\n                                    Delete Image\r\n                                  </Button>\r\n                                </Col>\r\n                              )}\r\n                            </Row>\r\n                          );\r\n                        })}\r\n                      {/* \r\n                       <Event\r\n                        imageurl={require(\"../../../static/images/events/event10.jpeg\")}\r\n                      />\r\n                      <Event\r\n                        imageurl={require(\"../../../../static/images/events/event9.jpeg\")}\r\n                      />\r\n                      <Event\r\n                        imageurl={require(\"../../../../static/images/events/event8.jpg\")}\r\n                      />\r\n                      <Event\r\n                        imageurl={require(\"../../../../static/images/events/event6.jpg\")}\r\n                      />\r\n                      <Event\r\n                        imageurl={require(\"../../../../static/images/events/event7.jpg\")}\r\n                      />\r\n                      <Event\r\n                        imageurl={require(\"../../../../static/images/events/heritage-cultural.jpg\")}\r\n                      />\r\n                      <Event\r\n                        imageurl={require(\"../../../../static/images/events/event2.JPEG\")}\r\n                      />\r\n                      <Event\r\n                        imageurl={require(\"../../../../static/images/events/event3.JPEG\")}\r\n                      />\r\n                      <Event\r\n                        imageurl={require(\"../../../../static/images/events/event1.JPEG\")}\r\n                      />\r\n                      <Event\r\n                        imageurl={require(\"../../../../static/images/flyer.jpg\")}\r\n                      />\r\n                      <Event\r\n                        imageurl={require(\"../../../../static/images/events/IMG_2417.jpg\")}\r\n                      />\r\n                      <Event\r\n                        imageurl={require(\"../../../../static/images/events/IMG_2418.jpg\")}\r\n                      /> */}\r\n                    </div>\r\n                  </Container>\r\n                </Container>\r\n              </Container>\r\n            </div>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nAdminEvents.propTypes = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  image: PropTypes.object.isRequired,\r\n  uploadEventImage: PropTypes.func.isRequired,\r\n  deleteImage: PropTypes.func.isRequired,\r\n  getImages: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  image: state.image,\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  uploadEventImage,\r\n  getImages,\r\n  deleteImage\r\n})(AdminEvents);\r\n"]},"metadata":{},"sourceType":"module"}