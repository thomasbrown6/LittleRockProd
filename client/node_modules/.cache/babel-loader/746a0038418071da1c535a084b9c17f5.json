{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\v-thobr\\\\projects\\\\littlerock\\\\LittleRockChurchApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\v-thobr\\\\projects\\\\littlerock\\\\LittleRockChurchApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{setAlert}from\"./alert\";import{GET_KEY,KEY_ERROR,CLEAR_KEY}from\"./types\";// Upload a Livestream key\nexport var uploadLivestreamKey=function uploadLivestreamKey(data){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,key,res,errors;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;config={headers:{\"Content-Type\":\"application/json\"}};key={data:data};console.log(\"hitting in actions\");console.log(key);_context.next=7;return axios.post(\"/api/keys/livestream\",key,config);case 7:res=_context.sent;dispatch({type:GET_KEY,payload:res.data});_context.next=16;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);errors=_context.t0.response.data.errors;if(errors){errors.forEach(function(error){return dispatch(setAlert(error.msg,\"error\"));});}dispatch({type:KEY_ERROR,payload:{msg:_context.t0.response,status:_context.t0.response.status}});case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};// Get Livestream key\nexport var getLivestreamKey=function getLivestreamKey(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/api/keys/livestream\");case 3:res=_context2.sent;dispatch({type:GET_KEY,payload:res.data});_context2.next=11;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);dispatch({type:CLEAR_KEY});dispatch({type:KEY_ERROR,payload:{msg:_context2.t0.response.statusText,status:_context2.t0.response.status}});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};// Upload a Calendar key\nexport var uploadCalendarKey=function uploadCalendarKey(key){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var config,res,errors;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;config={headers:{\"Content-Type\":\"application/json\"}};console.log(key);_context3.next=5;return axios.post(\"/api/keys/calendar\",key,config);case 5:res=_context3.sent;dispatch({type:GET_KEY,payload:res.data});_context3.next=14;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);errors=_context3.t0.response.data.errors;if(errors){errors.forEach(function(error){return dispatch(setAlert(error.msg,\"error\"));});}dispatch({type:KEY_ERROR,payload:{msg:_context3.t0.response,status:_context3.t0.response.status}});case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};// Get Calendar key\nexport var getCalendarKey=function getCalendarKey(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.get(\"/api/keys/calendar\");case 3:res=_context4.sent;dispatch({type:GET_KEY,payload:res.data});_context4.next=11;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);dispatch({type:CLEAR_KEY});dispatch({type:KEY_ERROR,payload:{msg:_context4.t0.response.statusText,status:_context4.t0.response.status}});case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/v-thobr/projects/littlerock/LittleRockChurchApp/client/src/actions/key.js"],"names":["axios","setAlert","GET_KEY","KEY_ERROR","CLEAR_KEY","uploadLivestreamKey","data","dispatch","config","headers","key","console","log","post","res","type","payload","errors","response","forEach","error","msg","status","getLivestreamKey","get","statusText","uploadCalendarKey","getCalendarKey"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { setAlert } from \"./alert\";\r\nimport { GET_KEY, KEY_ERROR, CLEAR_KEY } from \"./types\";\r\n\r\n// Upload a Livestream key\r\nexport const uploadLivestreamKey = (data) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    };\r\n\r\n    const key = {\r\n      data: data\r\n    };\r\n\r\n    console.log(\"hitting in actions\");\r\n    console.log(key);\r\n\r\n    const res = await axios.post(\"/api/keys/livestream\", key, config);\r\n    dispatch({\r\n      type: GET_KEY,\r\n      payload: res.data\r\n    });\r\n  } catch (err) {\r\n    const errors = err.response.data.errors;\r\n\r\n    if (errors) {\r\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"error\")));\r\n    }\r\n\r\n    dispatch({\r\n      type: KEY_ERROR,\r\n      payload: { msg: err.response, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Get Livestream key\r\nexport const getLivestreamKey = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(\"/api/keys/livestream\");\r\n\r\n    dispatch({\r\n      type: GET_KEY,\r\n      payload: res.data\r\n    });\r\n  } catch (err) {\r\n    dispatch({ type: CLEAR_KEY });\r\n\r\n    dispatch({\r\n      type: KEY_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Upload a Calendar key\r\nexport const uploadCalendarKey = (key) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    };\r\n\r\n    console.log(key);\r\n\r\n    const res = await axios.post(\"/api/keys/calendar\", key, config);\r\n    dispatch({\r\n      type: GET_KEY,\r\n      payload: res.data\r\n    });\r\n  } catch (err) {\r\n    const errors = err.response.data.errors;\r\n\r\n    if (errors) {\r\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"error\")));\r\n    }\r\n\r\n    dispatch({\r\n      type: KEY_ERROR,\r\n      payload: { msg: err.response, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n\r\n// Get Calendar key\r\nexport const getCalendarKey = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(\"/api/keys/calendar\");\r\n\r\n    dispatch({\r\n      type: GET_KEY,\r\n      payload: res.data\r\n    });\r\n  } catch (err) {\r\n    dispatch({ type: CLEAR_KEY });\r\n\r\n    dispatch({\r\n      type: KEY_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status }\r\n    });\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}